
"use strict";
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4taG9yaXpvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBa0hBLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDIiwiZmlsZSI6Im1haW4taG9yaXpvbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuY29uc3Qgc3ViTmF2Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N1Yl9uYXZfY29udGFpbmVyJyk7XG5jb25zdCBzdWJNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N1Yl9tZW51Jyk7XG5jb25zdCBob3Jpem9uUHJldkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNob3Jpem9uX3ByZXZfYnRuJyk7XG5jb25zdCBob3Jpem9uTmV4dEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNob3Jpem9uX25leHRfYnRuJyk7XG5cbmNvbnN0IGhvcml6b25TdGF0ZSA9IHtcblxuICBjdXJyZW50Q29udGVudE51bWJlcjogMCxcbiAgb2Zmc2V0U3RlcDogMjAsXG4gIHdvcmtGbGFnOiBmYWxzZSxcblxuICBpbml0KGNvbnRlbnRDb250YWluZXIsIG5hdkNvbnRhaW5lcikge1xuICAgIGlmICghdGhpcy53b3JrRmxhZykge1xuICAgICAgdGhpcy5jb250ZW50Q29udGFpbmVyID0gY29udGVudENvbnRhaW5lciA/IGNvbnRlbnRDb250YWluZXIgOiB0aGlzLmNvbnRlbnRDb250YWluZXI7XG4gICAgICB0aGlzLm5hdkNvbnRhaW5lciA9IG5hdkNvbnRhaW5lciA/IG5hdkNvbnRhaW5lciA6IHRoaXMubmF2Q29udGFpbmVyO1xuICAgICAgdGhpcy5jb250ZW50SXRlbXMgPSB0aGlzLmNvbnRlbnRDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmhvcml6b24tc2xpZGVyX19pdGVtJyk7XG4gICAgICB0aGlzLm1lbnVJdGVtcyA9IEFycmF5LmZyb20odGhpcy5uYXZDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnQScpKTtcblxuICAgICAgdGhpcy5jb250YWluZXJXaWR0aCA9IHRoaXMuY29udGVudENvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICAgIHRoaXMuY29udGVudEl0ZW1XaWR0aCA9IHRoaXMuY29udGVudEl0ZW1zWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuICAgICAgdGhpcy5jb250ZW50SXRlbXNQb3NpdGlvbnMgPSBBcnJheS5mcm9tKHRoaXMuY29udGVudEl0ZW1zKS5tYXAoKGNvbnRlbnRJdGVtKSA9PiAtY29udGVudEl0ZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCk7XG5cbiAgICAgIHRoaXMuYmluZCgpO1xuICAgICAgdGhpcy50aWNrKCk7XG4gICAgICB0aGlzLndvcmtGbGFnID0gdHJ1ZTtcbiAgICB9XG4gIH0sXG5cbiAgc2Nyb2xsKHRhcmdldENvbnRlbnRJdGVtTnViZXIpIHtcbiAgICBsZXQgb2Zmc2V0ID0gKHRhcmdldENvbnRlbnRJdGVtTnViZXIgPiB0aGlzLmN1cnJlbnRDb250ZW50TnVtYmVyKSA/IC10aGlzLm9mZnNldFN0ZXAgOiB0aGlzLm9mZnNldFN0ZXA7XG4gICAgbGV0IGN1cnJlbnRQb3NpdGlvbiA9IHRoaXMuY29udGVudEl0ZW1zUG9zaXRpb25zW3RoaXMuY3VycmVudENvbnRlbnROdW1iZXJdO1xuICAgIGNvbnN0IGludGVydmFsID0gd2luZG93LnNldEludGVydmFsKCgpID0+IHtcbiAgICAgIGN1cnJlbnRQb3NpdGlvbiArPSBvZmZzZXQ7XG5cbiAgICAgIHRoaXMuY29udGVudENvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke2N1cnJlbnRQb3NpdGlvbn1weClgO1xuXG4gICAgICBpZiAob2Zmc2V0ID4gMCA/IChjdXJyZW50UG9zaXRpb24gLSB0aGlzLmNvbnRlbnRJdGVtc1Bvc2l0aW9uc1t0YXJnZXRDb250ZW50SXRlbU51YmVyXSA+IHRoaXMub2Zmc2V0U3RlcCkgOiAoY3VycmVudFBvc2l0aW9uIC0gdGhpcy5jb250ZW50SXRlbXNQb3NpdGlvbnNbdGFyZ2V0Q29udGVudEl0ZW1OdWJlcl0gPCB0aGlzLm9mZnNldFN0ZXApKSB7XG4gICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgdGhpcy5jdXJyZW50Q29udGVudE51bWJlciA9IHRhcmdldENvbnRlbnRJdGVtTnViZXI7XG4gICAgICAgIHRoaXMuY29udGVudENvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgke3RoaXMuY29udGVudEl0ZW1zUG9zaXRpb25zW3RoaXMuY3VycmVudENvbnRlbnROdW1iZXJdfXB4KWA7XG4gICAgICB9XG4gICAgfSwgMSk7XG5cbiAgICB0aGlzLmN1cnJlbnRDb250ZW50TnVtYmVyID0gdGFyZ2V0Q29udGVudEl0ZW1OdWJlcjtcbiAgfSxcblxuICBzaG93VW5kZXJsaW5lKGluZGV4KSB7XG4gICAgaWYgKGluZGV4IDwgNCAmJiBpbmRleCA+PSAwKSB7XG4gICAgICB0aGlzLm1lbnVJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2hvcml6b24tbmF2X19pdGVtLS1hY3RpdmUnKSk7XG4gICAgICB0aGlzLm1lbnVJdGVtc1tpbmRleF0uY2xhc3NMaXN0LmFkZCgnaG9yaXpvbi1uYXZfX2l0ZW0tLWFjdGl2ZScpO1xuICAgIH1cbiAgfSxcblxuICBiaW5kKCkge1xuICAgIHRoaXMubWVudUl0ZW1zLmZvckVhY2goKG1lbnVJdGVtLCBpbmRleCkgPT4ge1xuICAgICAgbWVudUl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmF1dG9TY3JvbGxJbnRlcnZhbCk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGV0IGNvbnRlbnRJdGVtSW5kZXggPSBpbmRleCArIDE7XG4gICAgICAgIHRoaXMuX19jdXJyZW50UG9zaXRpb24gPSB0aGlzLmNvbnRlbnRJdGVtc1tpbmRleCArIDFdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gICAgICAgIHRoaXMuc2Nyb2xsKGNvbnRlbnRJdGVtSW5kZXgpO1xuICAgICAgICB0aGlzLnNob3dVbmRlcmxpbmUoaW5kZXgpO1xuICAgICAgfSk7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50Q29udGVudE51bWJlciA9IDA7XG4gICAgICAgIHRoaXMud29ya0ZsYWcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb250ZW50Q29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVYKDBweCknO1xuICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxuXG4gIHRpY2soKSB7XG5cbiAgICB0aGlzLmF1dG9TY3JvbGxJbnRlcnZhbCA9IHdpbmRvdy5zZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBsZXQgdGFyZ2V0Q29udGVudEl0ZW1OdWJlciA9ICh0aGlzLmN1cnJlbnRDb250ZW50TnVtYmVyICsgMSA9PT0gdGhpcy5jb250ZW50SXRlbXMubGVuZ3RoKSA/IDAgOiB0aGlzLmN1cnJlbnRDb250ZW50TnVtYmVyICsgMTtcbiAgICAgIHRoaXMuc2Nyb2xsKHRhcmdldENvbnRlbnRJdGVtTnViZXIpO1xuICAgICAgdGhpcy5zaG93VW5kZXJsaW5lKHRhcmdldENvbnRlbnRJdGVtTnViZXIgLSAxKTtcbiAgICB9LCA0MDAwKTtcbiAgfSxcblxuICBuZXh0KCkge1xuICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuYXV0b1Njcm9sbEludGVydmFsKTtcbiAgICBsZXQgdGFyZ2V0Q29udGVudEl0ZW1OdWJlciA9ICh0aGlzLmN1cnJlbnRDb250ZW50TnVtYmVyICsgMSA9PT0gdGhpcy5jb250ZW50SXRlbXMubGVuZ3RoKSA/IDAgOiB0aGlzLmN1cnJlbnRDb250ZW50TnVtYmVyICsgMTtcbiAgICB0aGlzLnNjcm9sbCh0YXJnZXRDb250ZW50SXRlbU51YmVyKyspO1xuICAgIHRoaXMuc2hvd1VuZGVybGluZSh0YXJnZXRDb250ZW50SXRlbU51YmVyIC0gMik7XG5cbiAgfSxcblxuICBwcmV2KCkge1xuICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuYXV0b1Njcm9sbEludGVydmFsKTtcbiAgICBsZXQgdGFyZ2V0Q29udGVudEl0ZW1OdWJlciA9ICh0aGlzLmN1cnJlbnRDb250ZW50TnVtYmVyIC0gMSA9PT0gdGhpcy5jb250ZW50SXRlbXMubGVuZ3RoKSA/IDAgOiB0aGlzLmN1cnJlbnRDb250ZW50TnVtYmVyIC0gMTtcbiAgICBpZiAodGhpcy5jdXJyZW50Q29udGVudE51bWJlciA9PT0gMCkge1xuICAgICAgdGhpcy5zY3JvbGwoNCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2Nyb2xsKHRhcmdldENvbnRlbnRJdGVtTnViZXItLSk7XG4gICAgICB0aGlzLnNob3dVbmRlcmxpbmUodGFyZ2V0Q29udGVudEl0ZW1OdWJlcik7XG4gICAgfVxuXG4gIH0sXG5cbiAgc3RvcCgpIHtcbiAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmF1dG9TY3JvbGxJbnRlcnZhbCk7XG4gIH1cblxufTtcblxuaG9yaXpvblN0YXRlLmluaXQoc3ViTWVudSwgc3ViTmF2Q29udGFpbmVyKTtcbmhvcml6b25QcmV2QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gaG9yaXpvblN0YXRlLnByZXYoKSk7XG5ob3Jpem9uTmV4dEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGhvcml6b25TdGF0ZS5uZXh0KCkpO1xuXG4qL1xuIl19
